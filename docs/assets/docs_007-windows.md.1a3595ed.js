import{_ as s,o as a,c as o,Q as p}from"./chunks/framework.f28a839a.js";const F=JSON.parse('{"title":"Windows","description":"","frontmatter":{},"headers":[],"relativePath":"docs/007-windows.md","filePath":"docs/007-windows.md"}'),n={name:"docs/007-windows.md"},l=p('<h1 id="windows" tabindex="-1">Windows <a class="header-anchor" href="#windows" aria-label="Permalink to &quot;Windows&quot;">​</a></h1><p>为了编写的脚本尽可能地可以跨平台，在 Windows 下，对 PowerShell 进行了特殊的兼容处理。</p><p>通常，我们希望可以在一条脚本中运行多条命令，且命令在遇到错误时自动停止。因此，我们经常编写这样的脚本：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">cd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">~</span><span style="color:#E1E4E8;"> &amp;&amp; </span><span style="color:#79B8FF;">cd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">.ssh</span><span style="color:#E1E4E8;"> &amp;&amp; </span><span style="color:#B392F0;">cat</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">id_rsa.pub</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">cd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">~</span><span style="color:#24292E;"> &amp;&amp; </span><span style="color:#005CC5;">cd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">.ssh</span><span style="color:#24292E;"> &amp;&amp; </span><span style="color:#6F42C1;">cat</span><span style="color:#24292E;"> </span><span style="color:#032F62;">id_rsa.pub</span></span></code></pre></div><p>但在 PowerShell 中，命令遇到错误将不会停止，且不可以使用 <code>&amp;&amp;</code> 符号来运行多条连续的命令。</p><p>在 <code>co</code> 中，自动对这种情况做了兼容处理。如果你在 Windows 下的 <code>co</code> 中，原封不动地执行上面的脚本，那么将正常工作。它实际上会被转换成下面的命令来执行：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">$ErrorActionPreference = </span><span style="color:#9ECBFF;">&quot;Stop&quot;</span><span style="color:#E1E4E8;"> ; </span><span style="color:#79B8FF;">cd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">~</span><span style="color:#E1E4E8;"> ; </span><span style="color:#79B8FF;">cd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">.ssh</span><span style="color:#E1E4E8;"> ; </span><span style="color:#B392F0;">cat</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">id_rsa.pub</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">$ErrorActionPreference = </span><span style="color:#032F62;">&quot;Stop&quot;</span><span style="color:#24292E;"> ; </span><span style="color:#005CC5;">cd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">~</span><span style="color:#24292E;"> ; </span><span style="color:#005CC5;">cd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">.ssh</span><span style="color:#24292E;"> ; </span><span style="color:#6F42C1;">cat</span><span style="color:#24292E;"> </span><span style="color:#032F62;">id_rsa.pub</span></span></code></pre></div>',7),e=[l];function c(t,r,d,i,E,y){return a(),o("div",null,e)}const _=s(n,[["render",c]]);export{F as __pageData,_ as default};
